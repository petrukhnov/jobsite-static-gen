{% set job_viewmodel = greenhouse.jobs | to_job_viewmodel %}

<!doctype html>
<html class="no-js" lang="en">
<head prefix="og: http://ogp.me/ns#">
    {% include "../src/partials/head.html" with {
        'relative_path_to_root': relative_path_to_root,
        'title': job_viewmodel.title,
        'description': 'Come work as a ' + job_viewmodel.title + ' at Zalando Tech in ' + job_viewmodel.locations,
        'keywords': 'Zalando Tech, ' + job_viewmodel.title + ', ' + job_viewmodel.locations,
        'meta_properties': {
            'og:url': 'https://tech.zalando.com/jobs/' + job_viewmodel.id,
            'og:image': 'https://tech.zalando.com/' + job_viewmodel.thumbnail,
            'og:image:width': 560,
            'og:image:height': 373
        }
    } %}
</head>
<body>

    <!-- Header -->
    {% include "../src/partials/header.html" with { 'relative_path_to_root': relative_path_to_root, 'active': 'jobs' } %}

    <div class="fullsize-container white">
        <div class="container">

            <div class="element-spacing">
                <ul class="breadcrumb">
                    <li><a href="{{ relative_path_to_root }}jobs">Jobs</a></li>
                    {%- if job_viewmodel.firstCategoryId!=='hidden' %}
                        <li><a href="{{ relative_path_to_root }}jobs/{{ job_viewmodel.firstCategoryId }}">{{ job_viewmodel.firstCategory }}</a></li>
                    {%- endif %}
                    <li class="active">{{ job_viewmodel.title }}</li>
                </ul>
            </div>

            <div class="row">
                <div class="col-md-6">

                    <div class="application-header">
                        <p class="locations">
                            <span class="glyphicon glyphicon-map-marker" aria-hidden="true"></span> {{ job_viewmodel.locations }}
                        </p>
                        <h1 class="heading-1">{{ job_viewmodel.title }}</h1>
                        <h2 class="heading-2">{{ job_viewmodel.department }}</h2>
                    </div>

                    <div class="visible-sm-block visible-xs-block element-spacing">
                        <a href="#apply" class="default-button color-zalando">Apply</a>
                    </div>

                    <div class="application-content">
                        {{ job_viewmodel.content | safe }}
                    </div>

                    {% include '../src/partials/share_buttons.html' with {
                        share_url: 'http://tech.zalando.com/jobs/' + job_viewmodel.id,
                        share_title: job_viewmodel.title
                    } %}
                </div>
                <div class="col-md-5 col-md-offset-1">
                    <a class="anchor" id="apply"></a>

                    <div class="application-header apply">
                        <h1 class="heading-1">Apply Now</h1>
                    </div>

                    <div class="application-header visible-sm-block visible-xs-block">
                        <p class="locations">
                            <span class="glyphicon glyphicon-map-marker" aria-hidden="true"></span> {{ job_viewmodel.locations }}
                        </p>
                        <h1 class="heading-1">{{ job_viewmodel.title }}</h1>
                        <h2 class="heading-2">{{ job_viewmodel.department }}</h2>
                    </div>

                    <div class="application-form">
                        <div><style type="text/css">@charset "UTF-8";[ng\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide{display:none !important;}ng\:form{display:block;}.ng-animate-block-transitions{transition:0s all!important;-webkit-transition:0s all!important;}.ng-hide-add-active,.ng-hide-remove{display:block!important;}</style>

<script async="" src="//d37gvrvc0wt4s1.cloudfront.net/js/v1.1/rollbar.min.js"></script>
<script src="https://prod-heroku.s3.amazonaws.com/assets/public_greenhouse_jobs-c5ca5ecbe4bd97df5fa26a2b59fcef96.js" type="text/javascript"></script>
<script src="https://prod-heroku.s3.amazonaws.com/assets/embed/window_sizing-456cd0aa1d6d402e201e3b1e7f0344de.js" type="text/javascript"></script>
<script type="text/javascript">
//<![CDATA[
  var _rollbarConfig = {
    accessToken: "9b4b28791d73400ca543c04cb715b607",
    captureUncaught: true,
    payload: {
      environment: "production"
    }
  };

  var _rollbarParams = {};


  !function(a,b){function c(b){this.shimId=++h,this.notifier=null,this.parentShim=b,this.logger=function(){},a.console&&void 0===a.console.shimId&&(this.logger=a.console.log)}function d(b,c,d){!d[4]&&a._rollbarWrappedError&&(d[4]=a._rollbarWrappedError,a._rollbarWrappedError=null),b.uncaughtError.apply(b,d),c&&c.apply(a,d)}function e(b){var d=c;return g(function(){if(this.notifier)return this.notifier[b].apply(this.notifier,arguments);var c=this,e="scope"===b;e&&(c=new d(this));var f=Array.prototype.slice.call(arguments,0),g={shim:c,method:b,args:f,ts:new Date};return a._rollbarShimQueue.push(g),e?c:void 0})}function f(a,b){if(b.hasOwnProperty&&b.hasOwnProperty("addEventListener")){var c=b.addEventListener;b.addEventListener=function(b,d,e){c.call(this,b,a.wrap(d),e)};var d=b.removeEventListener;b.removeEventListener=function(a,b,c){d.call(this,a,b&&b._wrapped?b._wrapped:b,c)}}}function g(a,b){return b=b||this.logger,function(){try{return a.apply(this,arguments)}catch(c){b("Rollbar internal error:",c)}}}var h=0;c.init=function(a,b){var e=b.globalAlias||"Rollbar";if("object"==typeof a[e])return a[e];a._rollbarShimQueue=[],a._rollbarWrappedError=null,b=b||{};var h=new c;return g(function(){if(h.configure(b),b.captureUncaught){var c=a.onerror;a.onerror=function(){var a=Array.prototype.slice.call(arguments,0);d(h,c,a)};var g,i,j=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];for(g=0;g<j.length;++g)i=j[g],a[i]&&a[i].prototype&&f(h,a[i].prototype)}return a[e]=h,h},h.logger)()},c.prototype.loadFull=function(a,b,c,d){var e=g(function(){var a=b.createElement("script"),e=b.getElementsByTagName("script")[0];a.src=d.rollbarJsUrl,a.async=!c,a.onload=f,e.parentNode.insertBefore(a,e)},this.logger),f=g(function(){if(void 0===a._rollbarPayloadQueue)for(var b,c,d,e,f=new Error("rollbar.js did not load");b=a._rollbarShimQueue.shift();)for(d=b.args,e=0;e<d.length;++e)if(c=d[e],"function"==typeof c){c(f);break}},this.logger);g(function(){c?e():a.addEventListener?a.addEventListener("load",e,!1):a.attachEvent("onload",e)},this.logger)()},c.prototype.wrap=function(b){try{if("function"!=typeof b)return b;if(b._isWrap)return b;if(!b._wrapped){b._wrapped=function(){try{return b.apply(this,arguments)}catch(c){throw a._rollbarWrappedError=c,c}},b._wrapped._isWrap=!0;for(var c in b)b.hasOwnProperty(c)&&(b._wrapped[c]=b[c])}return b._wrapped}catch(d){return b}};for(var i="log,debug,info,warn,warning,error,critical,global,configure,scope,uncaughtError".split(","),j=0;j<i.length;++j)c.prototype[i[j]]=e(i[j]);var k="//d37gvrvc0wt4s1.cloudfront.net/js/v1.1/rollbar.min.js";_rollbarConfig.rollbarJsUrl=_rollbarConfig.rollbarJsUrl||k;var l=c.init(a,_rollbarConfig);l.loadFull(a,b,!1,_rollbarConfig)}(window,document);
//]]>
</script>
<script src="https://prod-heroku.s3.amazonaws.com/assets/application-7e33f6b3acf6ab287ecbdb03d92edc6c.js" type="text/javascript"></script>
</div>

<div class="ng-scope" ng-app="greenhouse">
<div id="app_body">
<div id="application">
    <a name="app"></a>
    <form class="ng-pristine ng-valid" accept-charset="UTF-8" action="{{ relative_path_to_root }}jobs/apply" enctype="multipart/form-data" id="application_form" method="post">
        <input type="hidden" name="id" value="{{ job_viewmodel.id }}" />
        <input type="hidden" name="mapped_url_token" value="{{ job_viewmodel.id }}" />

        <div class="required-fields-hint">
            <span class="required-field-asterisk">*</span> Required
        </div>

        <hr>

        {% for question in job_viewmodel.questions -%}
        <div class="job-application-field">
            <label class="job-application-label">
                {{ question.label }}
                {%- if question.required %} <span class="required-field-asterisk">*</span>{% endif %}
            </label>
            {%- for field in question.fields %}

            {%- if field.type === 'input_text' %}
            <input id="{{ field.name }}" name="{{ field.name }}"{%- if question.required %} required="required"{% endif %} class="job-application-input" type="text">
            {%- endif %}

            {%- if field.type === 'textarea' %}
            <div class="job-application-btn" onclick="$('#{{ field.name }}').toggleClass('hide')">Paste</div>
            <textarea id="{{ field.name }}" name="{{ field.name }}" class="job-application-input job-application-textarea hide"></textarea>
            {%- endif %}

            {%- if field.type === 'input_file' %}
            <div class="job-application-btn">
                <span>Upload</span>
                <input id="{{ field.name }}" name="{{ field.name }}" class="job-application-file" type="file">
            </div>
            {%- endif %}

            {%- if field.type === 'multi_value_single_select' || field.type === 'multi_value_multi_select' %}
            <select id="{{ field.name }}" name="{{ field.name }}"{%- if field.type === 'multi_value_multi_select' %} multiple="multiple"{% endif %} {%- if question.required %} required="required"{% endif %} class="job-application-input" type="text">
                {%- if field.type === 'multi_value_single_select' %}<option disabled="disabled" selected="selected">Please select</option>{% endif %}
                {%- for option in field.values %}
                <option value="{{ option.value }}">{{ option.label }}</option>
                {%- endfor %}
            </select>
            {%- endif %}
            {%- endfor %}
        </div>
        {%- endfor -%}

        <hr></hr>
        <div>
            <label>
                <input id="eu-privacy-consent-accept" required="required" value="Yes" type="checkbox">&nbsp;&nbsp;<strong>I Accept</strong>
            </label>
            the <a class="eu-privacy-consent-toggle" onclick="$('.eu-privacy-consent').toggleClass('hide')">Application Consent for Zalando</a>

            <div class="eu-privacy-consent hide">
                <p>By clicking the “I Accept” button you expressly make the following representations and warranties and give your consents as described below:</p>
                <p>Zalando collects your personal data for the purposes of managing Zalando’s recruitment related activities as well as for organizational planning purposes globally. Consequently, Zalando may use your personal data in relation to the evaluation and selection of applicants including for example setting up and conducting interviews and tests, evaluating and assessing the results thereto and as is otherwise needed in the recruitment processes including the final recruitment.</p>
                <p>Zalando does not disclose your personal data to unauthorized third parties. However, as a global corporation consisting of multiple affiliated companies in various countries, Zalando has international sites and Zalando uses resources located throughout the world. Zalando may from time to time also use third parties to act on Zalando’s behalf. You agree to the fact that to the extent necessary your personal data may be transferred and/or disclosed to any company within Zalando group of companies as well as to third parties acting on Zalando’s behalf, including also transfers to servers and databases outside the country where you provided Zalando with your personal data. Such transfers may include for example transfers and/or disclosures outside the European Economic Area and in the United States of America.</p>
            </div>
        </div>
        <hr></hr>

        <div id="error_message"></div>
        <input type="submit" class="job-application-submit" value="Submit Application">
    </form>
</div>
</div>
</div>

<script type="text/javascript" src="https://www.dropbox.com/static/api/2/dropins.js" id="dropboxjs" data-app-key="mh9jyh4mfwjnfhj"></script>

<div class="cfp-hotkeys-container fade ng-scope" ng-class="{in: helpVisible}" style="display: none;"><div class="cfp-hotkeys"><h4 class="cfp-hotkeys-title ng-binding">Keyboard Shortcuts:</h4><table><tbody><!-- ngRepeat: hotkey in hotkeys | filter:{ description: '!$$undefined$$' } --><tr class="ng-scope" ng-repeat="hotkey in hotkeys | filter:{ description: '!$$undefined$$' }"><td class="cfp-hotkeys-keys"><!-- ngRepeat: key in hotkey.format() track by $index --><span ng-repeat="key in hotkey.format() track by $index" class="cfp-hotkeys-key ng-binding ng-scope">?</span><!-- end ngRepeat: key in hotkey.format() track by $index --></td><td class="cfp-hotkeys-text ng-binding">Show / hide this help menu</td></tr><!-- end ngRepeat: hotkey in hotkeys | filter:{ description: '!$$undefined$$' } --></tbody></table><div class="cfp-hotkeys-close" ng-click="toggleCheatSheet()">×</div></div></div></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    {% include "../src/partials/footer.html" with { 'relative_path_to_root': relative_path_to_root } %}

    <script async src="https://boards.greenhouse.io/embed/job_board/js?for=zalandotech"></script>
    <script async src="{{ relative_path_to_root }}js/tech.zalando-all.js"></script>
</body>
</html>
